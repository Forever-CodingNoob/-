{% extends 'base.html' %}

{% block title %} {{ station.name }} {% endblock %}
{% block content %}
    <div class="station-title">
        <div class="title">
            {{ station.name }}
        </div>

        {% for line in station.lines %}
            <img class="" src="{{url_for('static',filename=line['imgSRC'])}}">
        {% endfor %}
    </div>
    <div class="tags">
        <!--<span class="badge badge-primary">等級:{{ station.grade }}</span>
        <span class="badge badge-warning">出口:{{ station['exit'] }}</span>
        <span class="badge badge-warning">類別:{{ station['type'] }}</span>-->
        {% for tag in station.tags %}
            <span class="{{tag['class']}}">{{tag['text']}}</span>
        {% endfor %}
    </div>
    <div class="arrows">
        {# station['number']是0base #}
        {% if station['number'] < station.number_of_problems-1 %}
            <a href="{{url_for('show_station',station=station.name,number=station['number']+1)}}"><span class="badge badge-dark">--></span></a>
        {% endif %}
        {% if station['number'] > 0 %}
            <a href="{{url_for('show_station',station=station.name,number=station['number']-1)}}"><span class="badge badge-dark"><--</span></a>
        {% endif %}
    </div>
    <hr>
    {% if session['game'] or True%}
        <div class="owner">
            <span>擁有者:{{station.owner.name or '無'}}</span>
        </div>
        <hr>
    {% endif %}
    <div class="text">
        <p>{{ station['content'] }}</p>
    </div>
    {% if station['type'].find('題目')!=-1 %}  <!-- if there is '題目' in the type of station's problem -->
        <hr>
        <div class="ans">
            <span id="show" onclick="RevealAns();">答案</span><br>
            <span id="ans">{{station['answer'] }}</span>
        </div>
    {% endif %}
    <script>
        function RevealAns(){
            var answer_blank=document.querySelector(".ans #ans");
            //alert(window.getComputedStyle(answer_blank).getPropertyValue('visibility'));
            if (window.getComputedStyle(answer_blank).getPropertyValue('visibility')==='hidden'){
                answer_blank.classList.add('Translate');
            }else{
                answer_blank.classList.remove('Translate');
            }
        }
    </script>
{% endblock %}